# iOS Design System ガイドライン

## 目次

1. [カラー生成ガイド](#カラー生成ガイド)
2. [カラーシステム](#カラーシステム)
3. [タイポグラフィ](#タイポグラフィ)
4. [スペーシング](#スペーシング)
5. [コンポーネント規約](#コンポーネント規約)
6. [ダークモード対応](#ダークモード対応)
7. [アクセシビリティ](#アクセシビリティ)

---

## カラー生成ガイド

アプリの世界観からカラーパレットを導き出すためのガイド。

### 色彩理論の基礎

#### 色相環（カラーホイール）

```
           黄 (60°)
      黄緑          橙
   緑 (120°)    赤 (0°/360°)
      青緑          赤紫
           青 (240°)
```

#### 配色パターン

| パターン | 説明 | 使い方 |
|---------|------|-------|
| **モノクロマティック** | 同一色相の明度・彩度違い | 統一感、ミニマル |
| **補色** | 色相環で正反対の色 | 強いコントラスト、CTA強調 |
| **類似色** | 色相環で隣接する色 | 調和、自然な印象 |
| **トライアド** | 色相環で120°ずつ離れた3色 | ダイナミック、ポップ |
| **スプリット補色** | 補色の両隣2色を使用 | 補色より柔らかいコントラスト |

### プライマリカラーの選び方

#### 感情・印象と色の対応

| 色相 | 与える印象 | 適したアプリ |
|-----|----------|------------|
| **赤系** (0-30°) | 情熱、エネルギー、緊急性 | フード、セール、緊急通知 |
| **橙系** (30-60°) | 親しみ、楽しさ、活力 | SNS、エンタメ、フィットネス |
| **黄系** (60-90°) | 明るさ、楽観、注意喚起 | 子供向け、注意UI |
| **緑系** (90-150°) | 自然、健康、安心、成長 | ヘルスケア、金融、エコ |
| **青系** (180-240°) | 信頼、冷静、プロフェッショナル | ビジネス、テック、金融 |
| **紫系** (270-330°) | 高級、創造性、神秘 | 美容、アート、プレミアム |

#### 彩度と明度の調整

```
高彩度 + 高明度 = ポップ、カジュアル、子供向け
高彩度 + 低明度 = 力強い、インパクト
低彩度 + 高明度 = ソフト、フレンドリー、ヘルスケア
低彩度 + 低明度 = 高級、落ち着き、ビジネス
```

### アクセントカラーの導出

プライマリカラーが決まったら、以下のルールでアクセントを選定:

#### 方法1: 補色（最も目立つ）
```
プライマリ色相 + 180° = 補色
例: 青 (220°) → 橙 (40°)
```

#### 方法2: 類似色（調和重視）
```
プライマリ色相 ± 30° = 類似色
例: 青 (220°) → 青紫 (250°) or 青緑 (190°)
```

#### 方法3: トライアド（バランス）
```
プライマリ色相 ± 120° = トライアド
例: 青 (220°) → 黄 (100°) or 赤紫 (340°)
```

### ダークモードでの色変換

ライトモードの色をダークモードに変換するルール:

| 要素 | ライト→ダーク変換 |
|-----|-----------------|
| 背景 | 白系 → グレー系 (#1C1C1E) |
| テキスト | 黒系 → 白系 |
| プライマリカラー | 彩度↓ 明度↑ で眩しさ軽減 |
| ボーダー | 明度↑ で視認性確保 |

```swift
// 例: ダークモードでの青の調整
// ライト: #007AFF (鮮やか)
// ダーク:  #0A84FF (少し明るく)
```

### 実践例: 世界観からパレットを作る

#### 例1: 「高級感のあるファッションEC」

1. **印象**: 高級、エレガント、洗練
2. **プライマリ**: ディープネイビー (#1A1A2E) - 信頼感、高級感
3. **セカンダリ**: ゴールド (#C9A962) - 高級感、特別感
4. **背景**: オフホワイト (#FAFAFA) - 清潔感、商品を引き立てる
5. **アクセント**: なし（2色で十分な高級感）

#### 例2: 「子供向け学習アプリ」

1. **印象**: 楽しい、明るい、わくわく
2. **プライマリ**: ビビッドオレンジ (#FF6B35) - 活力、楽しさ
3. **セカンダリ**: ターコイズ (#4ECDC4) - 補色でダイナミック
4. **背景**: ウォームホワイト (#FFFAF0) - 温かみ
5. **アクセント**: イエロー (#FFE66D), パープル (#9B5DE5) - 多色でポップに

#### 例3: 「瞑想・マインドフルネスアプリ」

1. **印象**: 穏やか、落ち着き、自然
2. **プライマリ**: セージグリーン (#9CAF88) - 自然、癒し
3. **セカンダリ**: サンドベージュ (#C4B7A6) - 類似色で調和
4. **背景**: クリーム (#FFFEF7) - 温かみ、目に優しい
5. **アクセント**: ラベンダー (#B8A9C9) - 静寂、スピリチュアル

---

## カラーシステム

### セマンティックカラーの原則

色は用途に基づいて命名する（raw value ではなく意味で命名）:

| 種類 | 命名例 | 避けるべき例 |
|------|--------|-------------|
| ブランド | `primaryBrand`, `secondaryBrand` | `blue`, `purple` |
| 背景 | `backgroundPrimary`, `backgroundSecondary` | `white`, `gray100` |
| テキスト | `textPrimary`, `textSecondary` | `black`, `darkGray` |
| 状態 | `success`, `warning`, `error` | `green`, `yellow`, `red` |

### カラーパレット構成

```
Brand Colors (2-3色)
├── primaryBrand    - メインアクション、リンク
└── secondaryBrand  - アクセント、補助要素

Background Colors (3段階)
├── backgroundPrimary   - 画面背景
├── backgroundSecondary - カード、グループ
└── backgroundTertiary  - 入力フィールド、ネスト要素

Text Colors (3段階)
├── textPrimary    - 見出し、本文
├── textSecondary  - 副題、キャプション
└── textTertiary   - プレースホルダー、無効テキスト

Semantic Colors (4種)
├── success - 成功、完了
├── warning - 警告、注意
├── error   - エラー、削除
└── info    - 情報、ヒント
```

---

## タイポグラフィ

### タイプスケール

iOS Human Interface Guidelines に準拠した推奨サイズ:

| スタイル | サイズ | ウェイト | 用途 |
|---------|-------|---------|------|
| displayLarge | 34pt | Bold | ヒーローセクション |
| displayMedium | 28pt | Bold | セクションヘッダー |
| displaySmall | 22pt | Bold | カードタイトル |
| headlineLarge | 17pt | Semibold | リストアイテムタイトル |
| headlineMedium | 15pt | Semibold | サブヘッディング |
| headlineSmall | 13pt | Semibold | ラベル |
| bodyLarge | 17pt | Regular | 本文 |
| bodyMedium | 15pt | Regular | 副本文 |
| bodySmall | 13pt | Regular | キャプション |
| captionLarge | 12pt | Regular | 補足テキスト |
| captionSmall | 11pt | Regular | タイムスタンプ |

### フォント選択

- **システムフォント推奨**: `SF Pro` (iOS標準) は可読性・アクセシビリティが最適化済み
- **カスタムフォント**: ブランド要件がある場合のみ使用
- **数字**: `Font.monospacedDigit()` でテーブル・タイマー表示を揃える

---

## スペーシング

### 8pt グリッドシステム

すべてのスペーシングは 4pt の倍数を使用:

| トークン | 値 | 用途 |
|---------|-----|------|
| xxs | 4pt | マイクロスペーシング |
| xs | 8pt | アイコンとテキスト間 |
| sm | 12pt | 関連要素間 |
| md | 16pt | 標準パディング |
| lg | 24pt | セクション間 |
| xl | 32pt | 大きなセクション間 |
| xxl | 48pt | ページセクション間 |

### 角丸（Corner Radius）

| トークン | 値 | 用途 |
|---------|-----|------|
| xs | 4pt | タグ、バッジ |
| sm | 8pt | ボタン、入力フィールド |
| md | 12pt | カード |
| lg | 16pt | モーダル |
| xl | 24pt | ピル形状 |
| full | ∞ | アバター、丸アイコン |

---

## コンポーネント規約

### ボタン

4種類のボタンスタイル:

1. **Primary**: メインCTA、1画面に1つ
2. **Secondary**: 副次アクション、枠線スタイル
3. **Tertiary**: テキストリンク的なアクション
4. **Destructive**: 削除、キャンセルなど破壊的操作

高さ: 50pt (タッチターゲット 44pt 以上を確保)

### テキストフィールド

- 高さ: 44pt 以上
- 角丸: 8pt
- エラー時: 赤枠 + エラーメッセージ表示
- ラベルは上部に配置

---

## ダークモード対応

### 色定義のベストプラクティス

```swift
// ダークモード対応の色定義
extension Color {
    static let background = Color(
        light: .white,
        dark: Color(hex: "1C1C1E")
    )
}
```

### 避けるべきパターン

- ハードコードされた白/黒
- `@Environment(\.colorScheme)` での条件分岐（Color extension で吸収）
- 不透明度のみで対応（コントラスト不足になりやすい）

---

## アクセシビリティ

### コントラスト比

- **通常テキスト**: 4.5:1 以上
- **大きいテキスト(18pt+)**: 3:1 以上
- **UI要素**: 3:1 以上

### タッチターゲット

- 最小サイズ: 44×44pt (Apple HIG)
- ボタン/タップ可能要素は必ずこのサイズ以上に

### Dynamic Type

```swift
// Dynamic Type 対応
.font(.body) // 推奨: システムスタイル
.font(.system(size: 17)) // 非推奨: 固定サイズ
```
