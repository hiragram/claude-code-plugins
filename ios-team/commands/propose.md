---
description: 指示した内容を実装し、コミット・プッシュ・プルリクエスト作成まで一気に行う
---

# Proposeコマンド

変更内容をコミット、プッシュし、プルリクエストを作成します。

## 使い方

### パターン1: 引数付き (`/propose <作業内容>`)

指定された作業内容を実装してから、コミット・プッシュ・PR作成まで行います。

### パターン2: 引数なし (`/propose`)

これまでの対話で行った作業をコミット・プッシュ・PR作成します。
この場合、現在の変更内容（`git diff`）を確認して適切なコミットメッセージとPR内容を作成してください。

## 要件

$ARGUMENTS

## 実行フロー

1. **実装**（引数ありの場合のみ）: 指示された内容を実装する
2. **確認**: ビルドが通ることを確認する（可能であればテストも実行）
3. **コミット**: 変更をコミットする
4. **プッシュ**: リモートにプッシュする
5. **プルリクエスト作成**: PRを作成する
6. **CI監視**: `gh run watch` でCIが完了するまで監視する
7. **CI失敗時の対応**: CIが失敗した場合は、ログを確認して必要な修正を行い、再度コミット・プッシュする。CIが成功するまで繰り返す。

## コミットルール

### コミットメッセージの形式

```
<type>: <subject>

<body>
```

### Type一覧

- `feat`: 新機能
- `fix`: バグ修正
- `refactor`: リファクタリング（機能変更なし）
- `docs`: ドキュメントのみの変更
- `test`: テストの追加・修正
- `chore`: ビルドプロセスやツールの変更

### コミットメッセージのルール

- subjectは日本語で簡潔に（50文字以内目安）
- bodyには変更の理由や詳細を記載（任意）
- 1つの論理的な変更につき1コミット

## プルリクエストルール

### タイトル

コミットメッセージのsubjectと同様の形式で記載する。

```
<type>: <概要>
```

### 本文の形式

```markdown
## 概要

この変更で何を実現するかを簡潔に説明。

## 変更内容

- 変更点1
- 変更点2
- 変更点3

## 確認事項

- [ ] ビルドが通ること
- [ ] 既存機能に影響がないこと
```

## 注意事項

- 実装完了後、コミット前に必ず `git diff` で変更内容を確認すること
- 意図しないファイルが含まれていないか確認すること
- PRを作成したらURLを報告すること
